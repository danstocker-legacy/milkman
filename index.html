<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Index</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Index</h1>
    
    


    


    <h3> </h3>









    




    <section>
        <article><h1>Milkman</h1>

<p><em>Routing framework</em></p>

<p>Milkman manages the application route. Through it, you may navigate the application, and have your application&#39;s components respond to route changes. The route may be represented by <em>URL hash</em>, <em>pushstate</em>, or an internal static global. Milkman is built on top of <a href="https://github.com/danstocker/troop">troop</a> for OOP, <a href="https://github.com/danstocker/sntls">sntls</a> for data structures, and <a href="https://github.com/danstocker/evan">evan</a> for eventing.</p>

<p><a href="https://github.com/danstocker/milkman/wiki">Wiki</a></p>

<p><a href="http://danstocker.github.io/milkman/">Reference</a></p>

<p><a href="https://www.npmjs.com/package/milkman">Npm package</a></p>

<h2>Getting started</h2>

<h3>Configuration</h3>

<p>Right after milkman has been loaded (required), you may specify whether you want to use hash or pushstate-based routing, by setting the flag <code>milkman.usePushState</code>. The flag has no effect under node.</p>

<pre><code>milkman.usePushState = true;</code></pre>

<h3>Navigation</h3>

<p>Navigating to a route is quite simple. Convert a route string to a <code>Route</code> instance, which offers an API that includes navigation.</p>

<ul><li>Synchronous navigation changes the route immediately. By the time execution comes to the next line, the route will have changed. Example: <code>&#39;user/joe&#39;.toRoute().navigateTo()</code>.</li><li>Asynchronous navigation lets the current thread finish before the route will change. Async navigation returns a <code>Q</code> promise, giving you the opportunity to specify some follow-up. Example: <code>&#39;user/joe&#39;.toRoute().navigateToAsync()</code>.</li><li>Debounced navigation allows you to skip routes would they be overridden by subsequent navigation commands within a specified time frame (100ms by default). This is useful when re-routing due to some condition not being met by the application&#39;s state. Example: <code>&#39;user/joe&#39;.toRoute().navigateToDebounced()</code>.</li></ul>

<p>Alternatively, if you don&#39;t want the route to be reflected in the URL (hash or state), silent navigation is also possible.</p>

<pre><code>&#39;user/joe&#39;.toRoute().navigateToSilent();</code></pre>

<h3>Responding to routing events</h3>

<p>Milkman triggers routing events in a special event space, whenever the application route changes, either through the hash, or pushstate. To capture such events, eg. for all &#39;user&#39; routes, use the following expression known from <em>evan</em>.</p>

<pre><code>&#39;user&#39;.toRoute().subscribeTo(milkman.Router.EVENT_ROUTE_CHANGE, function (event) {
    console.log(event.beforeRoute.toString());
    console.log(event.afterRoute.toString());
});</code></pre>

<p>To listen to all routing events, you&#39;ll need to subscribe to en empty route.</p>

<pre><code>[].toRoute().subscribeTo(...);</code></pre>

<h2>Sample code</h2>

<p>To see milkman in action, check out <a href="https://github.com/danstocker/hills">Hills</a>.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Array.html">Array</a></li><li><a href="dessert.html">dessert</a></li><li><a href="milkman.HashProxy.html">HashProxy</a></li><li><a href="milkman.LocationProxy.html">LocationProxy</a></li><li><a href="milkman.PushStateProxy.html">PushStateProxy</a></li><li><a href="milkman.Route.html">Route</a></li><li><a href="milkman.Router.html">Router</a></li><li><a href="milkman.RoutingEvent.html">RoutingEvent</a></li><li><a href="milkman.SilentProxy.html">SilentProxy</a></li><li><a href="String.html">String</a></li></ul><h3>Namespaces</h3><ul><li><a href="evan.html">evan</a></li><li><a href="milkman.html">milkman</a></li><li><a href="Q.html">Q</a></li><li><a href="sntls.html">sntls</a></li><li><a href="troop.html">troop</a></li></ul><h3>Global</h3><ul><li><a href="global.html#document">document</a></li><li><a href="global.html#window">window</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0-dev</a> on Sat May 09 2015 12:52:23 GMT+0100 (BST)
</footer>

<script> prettyPrint(); </script>
</body>
</html>
